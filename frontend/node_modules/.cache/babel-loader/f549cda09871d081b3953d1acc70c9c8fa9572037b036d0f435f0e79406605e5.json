{"ast":null,"code":"/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __extends, __values } from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { MDCRipple } from '@material/ripple/component';\nimport { cssClasses, strings } from './constants';\nimport { MDCFixedTopAppBarFoundation } from './fixed/foundation';\nimport { MDCShortTopAppBarFoundation } from './short/foundation';\nimport { MDCTopAppBarFoundation } from './standard/foundation';\nvar MDCTopAppBar = /** @class */function (_super) {\n  __extends(MDCTopAppBar, _super);\n  function MDCTopAppBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MDCTopAppBar.attachTo = function (root) {\n    return new MDCTopAppBar(root);\n  };\n  MDCTopAppBar.prototype.initialize = function (rippleFactory) {\n    if (rippleFactory === void 0) {\n      rippleFactory = function (el) {\n        return MDCRipple.attachTo(el);\n      };\n    }\n    this.navIcon = this.root.querySelector(strings.NAVIGATION_ICON_SELECTOR);\n    // Get all icons in the toolbar and instantiate the ripples\n    var icons = [].slice.call(this.root.querySelectorAll(strings.ACTION_ITEM_SELECTOR));\n    if (this.navIcon) {\n      icons.push(this.navIcon);\n    }\n    this.iconRipples = icons.map(function (icon) {\n      var ripple = rippleFactory(icon);\n      ripple.unbounded = true;\n      return ripple;\n    });\n    this.scrollTarget = window;\n  };\n  MDCTopAppBar.prototype.initialSyncWithDOM = function () {\n    this.handleNavigationClick = this.foundation.handleNavigationClick.bind(this.foundation);\n    this.handleWindowResize = this.foundation.handleWindowResize.bind(this.foundation);\n    this.handleTargetScroll = this.foundation.handleTargetScroll.bind(this.foundation);\n    this.scrollTarget.addEventListener('scroll', this.handleTargetScroll);\n    if (this.navIcon) {\n      this.navIcon.addEventListener('click', this.handleNavigationClick);\n    }\n    var isFixed = this.root.classList.contains(cssClasses.FIXED_CLASS);\n    var isShort = this.root.classList.contains(cssClasses.SHORT_CLASS);\n    if (!isShort && !isFixed) {\n      window.addEventListener('resize', this.handleWindowResize);\n    }\n  };\n  MDCTopAppBar.prototype.destroy = function () {\n    var e_1, _a;\n    try {\n      for (var _b = __values(this.iconRipples), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var iconRipple = _c.value;\n        iconRipple.destroy();\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    this.scrollTarget.removeEventListener('scroll', this.handleTargetScroll);\n    if (this.navIcon) {\n      this.navIcon.removeEventListener('click', this.handleNavigationClick);\n    }\n    var isFixed = this.root.classList.contains(cssClasses.FIXED_CLASS);\n    var isShort = this.root.classList.contains(cssClasses.SHORT_CLASS);\n    if (!isShort && !isFixed) {\n      window.removeEventListener('resize', this.handleWindowResize);\n    }\n    _super.prototype.destroy.call(this);\n  };\n  MDCTopAppBar.prototype.setScrollTarget = function (target) {\n    // Remove scroll handler from the previous scroll target\n    this.scrollTarget.removeEventListener('scroll', this.handleTargetScroll);\n    this.scrollTarget = target;\n    // Initialize scroll handler on the new scroll target\n    this.handleTargetScroll = this.foundation.handleTargetScroll.bind(this.foundation);\n    this.scrollTarget.addEventListener('scroll', this.handleTargetScroll);\n  };\n  MDCTopAppBar.prototype.getDefaultFoundation = function () {\n    var _this = this;\n    // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n    // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n    // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n    var adapter = {\n      hasClass: function (className) {\n        return _this.root.classList.contains(className);\n      },\n      addClass: function (className) {\n        return _this.root.classList.add(className);\n      },\n      removeClass: function (className) {\n        return _this.root.classList.remove(className);\n      },\n      setStyle: function (property, value) {\n        return _this.root.style.setProperty(property, value);\n      },\n      getTopAppBarHeight: function () {\n        return _this.root.clientHeight;\n      },\n      notifyNavigationIconClicked: function () {\n        return _this.emit(strings.NAVIGATION_EVENT, {});\n      },\n      getViewportScrollY: function () {\n        var win = _this.scrollTarget;\n        var el = _this.scrollTarget;\n        return win.pageYOffset !== undefined ? win.pageYOffset : el.scrollTop;\n      },\n      getTotalActionItems: function () {\n        return _this.root.querySelectorAll(strings.ACTION_ITEM_SELECTOR).length;\n      }\n    };\n    // tslint:enable:object-literal-sort-keys\n    var foundation;\n    if (this.root.classList.contains(cssClasses.SHORT_CLASS)) {\n      foundation = new MDCShortTopAppBarFoundation(adapter);\n    } else if (this.root.classList.contains(cssClasses.FIXED_CLASS)) {\n      foundation = new MDCFixedTopAppBarFoundation(adapter);\n    } else {\n      foundation = new MDCTopAppBarFoundation(adapter);\n    }\n    return foundation;\n  };\n  return MDCTopAppBar;\n}(MDCComponent);\nexport { MDCTopAppBar };","map":{"version":3,"names":["MDCComponent","MDCRipple","cssClasses","strings","MDCFixedTopAppBarFoundation","MDCShortTopAppBarFoundation","MDCTopAppBarFoundation","MDCTopAppBar","_super","__extends","attachTo","root","prototype","initialize","rippleFactory","el","navIcon","querySelector","NAVIGATION_ICON_SELECTOR","icons","slice","call","querySelectorAll","ACTION_ITEM_SELECTOR","push","iconRipples","map","icon","ripple","unbounded","scrollTarget","window","initialSyncWithDOM","handleNavigationClick","foundation","bind","handleWindowResize","handleTargetScroll","addEventListener","isFixed","classList","contains","FIXED_CLASS","isShort","SHORT_CLASS","destroy","_b","__values","_c","next","done","iconRipple","value","removeEventListener","setScrollTarget","target","getDefaultFoundation","_this","adapter","hasClass","className","addClass","add","removeClass","remove","setStyle","property","style","setProperty","getTopAppBarHeight","clientHeight","notifyNavigationIconClicked","emit","NAVIGATION_EVENT","getViewportScrollY","win","pageYOffset","undefined","scrollTop","getTotalActionItems","length"],"sources":["component.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}